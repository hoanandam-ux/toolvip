<script>
async function kichHoat(){
  const key = document.getElementById("key").value.trim();

  const res = await fetch("/api/activate",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({key})
  });

  const data = await res.json();
  if(!data.success){
    alert("âŒ Key sai!");
    return;
  }

  localStorage.setItem("vip_expire", data.expire);
  alert("ğŸ‰ KÃ­ch hoáº¡t VIP 7 ngÃ y!");
  location.reload();
}

async function phanTich(){
  const hash = document.getElementById("md5").value.trim();

  const res = await fetch("/api/analyze",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({hash})
  });

  const data = await res.json();
  if(!data.success){
    document.getElementById("ketqua").innerText = data.message;
    return;
  }

  const d = data.data;
  document.getElementById("ketqua").innerHTML = `
    ğŸ” MD5: <b>${d.hash}</b><br>
    ğŸ“Š HEX cuá»‘i: <b>${d.lastBytes}</b><br>
    ğŸ”¢ Decimal: <b>${d.decimalValue}</b><br>
    ğŸ¯ Káº¿t quáº£: <b>${d.result} (${d.group})</b>
  `;
}
</script>
